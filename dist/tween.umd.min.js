!function(global,factory){if("function"==typeof define&&define.amd)define([],factory);else if("undefined"!=typeof exports)factory();else{factory(),global.tween={}}}(this,function(){"use strict";var root="undefined"!=typeof window?window:global,rAF=root.requestAnimationFrame?root.requestAnimationFrame.bind(root):function(callback){return root.setTimeout(callback,16)},getNow=function(){return(new Date).getTime()};module.exports=function(){var _ref=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_ref$duration=_ref.duration,duration=void 0===_ref$duration?300:_ref$duration,update=_ref.update,complete=_ref.complete,_ref$ensureLast=_ref.ensureLast,ensureLast=void 0===_ref$ensureLast||_ref$ensureLast;duration=+duration;var startTime=getNow();0<duration&&(update&&update(0),rAF(function play(){var now=getNow(),elapsedTime=Math.min(duration,now-startTime);duration<=elapsedTime?(ensureLast&&update&&update(1),complete&&complete({startTime:startTime,now:now,elapsedTime:elapsedTime})):(update&&update(elapsedTime/duration),rAF(play))}))}});