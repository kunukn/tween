var tween=function(){function c(){return(new Date).getTime()}return function(e){var t,r,a=!1,n=e||{},u=n.update,i=n.complete,o=null!=n.duration?+n.duration:300,m=null==n.ensureLast||n.ensureLast;function s(e){var n=c(),t=n-e;return{startTime:e,now:n,elapsedTime:t,range:Math.min(t/o,1)}}return r=c(),0<o&&(u&&u(0),requestAnimationFrame(function e(){if(!a){var n=s(r);n.elapsedTime>=o?(m&&t!==n.range&&u&&u(1),i&&i(n)):(u&&u(n.range),t=n.range,requestAnimationFrame(e))}})),function(e){a=!0,e&&e(s(r))}}}();