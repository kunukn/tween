{"version":3,"sources":["../src/tween.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,MAAM,IAAI,GAAG,OAAO,MAAP,KAAkB,WAAlB,GAAgC,MAAhC,GAAyC,MAAtD;AACA,MAAM,GAAG,GAAG,IAAI,CAAC,qBAAL,GACR,IAAI,CAAC,qBAAL,CAA2B,IAA3B,CAAgC,IAAhC,CADQ,GAER,UAAA,QAAQ;AAAA,WAAI,IAAI,CAAC,UAAL,CAAgB,QAAhB,EAA0B,EAA1B,CAAJ;AAAA,GAFZ;;AAGA,MAAM,MAAM,GAAG,SAAT,MAAS;AAAA,WAAM,IAAI,IAAJ,GAAW,OAAX,EAAN;AAAA,GAAf;;AAEA,MAAM,KAAK,GAAG,SAAR,KAAQ,GAKH;AAAA,mFAAP,EAAO;AAAA,6BAJT,QAIS;AAAA,QAJT,QAIS,8BAJE,GAIF;AAAA,QAHT,MAGS,QAHT,MAGS;AAAA,QAFT,QAES,QAFT,QAES;AAAA,+BADT,UACS;AAAA,QADT,UACS,gCADI,IACJ;;AAET,IAAA,QAAQ,GAAG,CAAC,QAAZ;;AAEA,QAAM,IAAI,GAAG,SAAP,IAAO,GAAM;AACjB,UAAM,GAAG,GAAG,MAAM,EAAlB;AACA,UAAM,WAAW,GAAG,IAAI,CAAC,GAAL,CAAS,QAAT,EAAmB,GAAG,GAAG,SAAzB,CAApB;;AACA,UAAI,WAAW,IAAI,QAAnB,EAA6B;AAC3B,QAAA,UAAU,IAAI,MAAd,IAAwB,MAAM,CAAC,CAAD,CAA9B;AACA,QAAA,QAAQ,IAAI,QAAQ,CAAC;AAAE,UAAA,SAAS,EAAT,SAAF;AAAa,UAAA,GAAG,EAAH,GAAb;AAAkB,UAAA,WAAW,EAAX;AAAlB,SAAD,CAApB;AACD,OAHD,MAGO;AACL,YAAM,KAAK,GAAG,WAAW,GAAG,QAA5B;AACA,QAAA,MAAM,IAAI,MAAM,CAAC,KAAD,CAAhB;AACA,QAAA,GAAG,CAAC,IAAD,CAAH;AACD;AACF,KAXD;;AAaA,QAAM,SAAS,GAAG,MAAM,EAAxB;;AAEA,QAAI,QAAQ,GAAG,CAAf,EAAkB;AAChB,MAAA,MAAM,IAAI,MAAM,CAAC,CAAD,CAAhB;AACA,MAAA,GAAG,CAAC,IAAD,CAAH;AACD;AACF,GA5BD;;AA8BA,EAAA,MAAM,CAAC,OAAP,GAAiB,KAAjB","file":"tween.umd.js","sourcesContent":["const root = typeof window !== 'undefined' ? window : global;\nconst rAF = root.requestAnimationFrame\n  ? root.requestAnimationFrame.bind(root)\n  : callback => root.setTimeout(callback, 16);\nconst getNow = () => new Date().getTime();\n\nconst tween = ({\n  duration = 300,\n  update,\n  complete,\n  ensureLast = true,\n} = {}) => {\n\n  duration = +duration;\n\n  const play = () => {\n    const now = getNow();\n    const elapsedTime = Math.min(duration, now - startTime);\n    if (elapsedTime >= duration) {\n      ensureLast && update && update(1);\n      complete && complete({ startTime, now, elapsedTime });\n    } else {\n      const range = elapsedTime / duration;\n      update && update(range);\n      rAF(play);\n    }\n  };\n\n  const startTime = getNow();\n\n  if (duration > 0) {\n    update && update(0);\n    rAF(play);\n  }\n};\n\nmodule.exports = tween;\n"]}